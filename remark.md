遊戲企劃書：靈魂地城 (Soul Dungeon: Chain & Lure)

類型：策略塔防 / 物理益智 / 經營模擬

核心體驗：像推骨牌一樣設計連鎖反應，利用貪婪與個性操控冒險者，享受「請君入甕」的快感。

1. 遊戲概述 (Overview)

玩家扮演一位「地城經營者」，但不同於傳統遊戲依靠強大的怪物硬碰硬，本作的核心在於**「動線設計」與「心理操控」**。
玩家需要針對不同個性的冒險者，利用地形、誘餌、化學元素與物理陷阱，設計出一套完美的「死亡動線」，收割靈魂並變賣冒險者的裝備。

2. 核心循環 (Core Loop)

選址 (Map Selection)：

選擇今日營業的地點（地圖格局）。

地圖包含不可破壞的障礙物（岩石、柱子），形成天然的窄口或分岔路。

偵查 (Scout)：

查看即將到來的冒險者清單（屬性、弱點、個性、攜帶裝備價值）。

決定要針對哪一類冒險者進行佈局（殺富濟貧？還是薄利多銷？）。

佈局 (Setup)：

放置陷阱、誘餌、元素。

利用預覽系統測試連鎖反應（如：彈簧是否能彈到火坑）。

營業 (Action)：

全自動演出。玩家無法干涉，只能觀看冒險者如何一步步踏入陷阱，或因為你的設計失誤而逃脫。

結算與強化 (Progression)：

回收靈魂與裝備變現。

抽取「每日遺物」強化地城機能。

3. 核心機制 (Key Mechanics)

A. 連鎖反應系統 (Synergy System)

遊戲拒絕單調的傷害堆疊，強調「1+1 > 2」的組合效果。

化學連鎖 (Chemical Synergy)

當特定元素相鄰時，會自動融合升級為強力區域。

🔥 烈焰地獄 (Inferno)：[油桶] + [噴火口]

效果：高額持續傷害，專門對付無防火裝備的敵人。

⚡ 導電水域 (Electric Swamp)：[水坑] + [雷電塔]

效果：造成傷害並附帶「麻痺/緩速」效果。

🤢 擴散毒霧 (Toxic Cloud)：[毒氣] + [風扇]

效果：無視防禦的真實傷害，風扇可擴大毒氣範圍。

物理連鎖 (Physical Synergy)

利用位移強制改變冒險者位置，創造戲劇性演出。

彈簧板 (Spring)：可旋轉方向，將冒險者彈飛 2 格。

連擊加成：若冒險者被彈飛後落地在陷阱上（如尖刺或火海），觸發 「精準連擊」，傷害加倍。

應用場景：將敵人彈入死路、彈過牆壁、或將貪吃鬼彈離食物。

B. 冒險者 AI 與個性 (Adventurer Psychology)

冒險者不再是單純的路徑搜尋機器人，他們有「慾望」。玩家需利用慾望引導動線。

職業

特性

弱點/誘餌

行為邏輯

騎士 (Knight)

高防禦、低智商

無

死腦筋，只會走最短路徑衝向終點。需用「真實傷害」(毒/火) 或「物理墜落」對付。

貪吃鬼 (Glutton)

血量極厚

🍖 烤肉

只要偵測範圍內有肉，會無視終點與陷阱，強制改變路徑去吃肉。

盜賊 (Thief)

速度快、血量薄

💰 寶箱

偵測範圍大，會被寶箱吸引。利用寶箱將其引入死路。

(規劃中) 牧師

會治療同伴

受傷的隊友

優先走向血量最低的同伴（可故意打殘一個敵人當誘餌）。

(規劃中) 膽小鬼

容易恐慌

屍體/血跡

看到屍體會往反方向逃跑（可利用此特性將其趕入陷阱）。

4. 經濟與進程 (Economy & Progression)

裝備變現 (Loot System)

不同冒險者攜帶不同價值的裝備。

殺死穿著「秘銀鎧甲」的騎士收益遠高於殺死「布衣村民」。

決策點：玩家需權衡「為了殺死高防禦騎士所投入的陷阱成本」是否划算。

遺物系統 (Relics)

每日營業結束後，隨機三選一的強力被動效果（Roguelike 元素）。

壞掉的音響：怪物與陷阱的運作頻率加快（或是怪物不會睡著）。

強力膠水：所有經過「油膩地板」的冒險者移動速度減半。

偽造藏寶圖：下一日的冒險者數量 +50%。

保險推銷員：若冒險者成功逃脫，獲得少量安慰金。

5. 介面與美術風格 (UI/UX)

視角：2D 俯視網格 (Top-down Grid)。

風格：深色地城風格，搭配高飽和度的霓虹色標示連鎖反應（如毒氣的亮綠、火焰的亮橘），強調「化學反應」的視覺爽感。

操作：

左鍵放置/旋轉。

右鍵移除。

即時預覽連鎖結果（放置前顯示連結線）。

6. 開發階段規劃 (Roadmap)

Phase 1 (已完成)：網格地圖、障礙物生成、基礎化學連鎖 (油+火, 水+雷)。

Phase 2 (已完成)：物理位移 (彈簧)、假人模擬、連擊判定。

Phase 3 (已完成)：冒險者 AI (騎士/貪吃/盜賊)、誘餌系統、傷害數值化。

Phase 4 (下一步)：

關卡制/經營循環：加入「天數」概念，每天結束後結算金錢，購買新陷阱。

遺物系統實裝：實作被動技能選擇。

更多連鎖：開發更多腦洞大開的組合（如：傳送門、冰凍射線）。

7. 技術架構 (Tech Stack)

為了滿足 Steam 上架需求、複雜的 UI 交互（多視窗/頁面管理）以及豐富的視聽效果，本專案將採用以下現代化 Web 技術堆疊進行開發：

*   **核心運行 (Runtime): Electron**
    *   用途：將 Web 應用封裝為桌面執行檔 (.exe)，支援 Steam 上架與本機檔案讀寫。
    *   特性：原生多視窗支援，適合複雜的經營管理介面。

*   **建置工具 (Build): Vite**
    *   用途：極速開發伺服器與模組打包。
    *   特性：支援熱重載 (HMR)，大幅提升開發迭代速度。

*   **前端框架 (UI Framework): React + TypeScript**
    *   用途：負責所有非遊戲核心的 UI（選單、商店、背包、劇情對話）。
    *   特性：強大的組件化與狀態管理 (State Management)，輕鬆處理複雜的遊戲邏輯與數據流。TypeScript 提供型別安全，減少低級錯誤。

*   **遊戲引擎 (Game Engine): Phaser 3**
    *   用途：負責核心遊戲畫面（網格地圖、角色移動、物理碰撞、粒子特效）。
    *   特性：高效能 WebGL 渲染，專為 2D 遊戲設計，適合處理大量精靈與動態效果。

*   **架構設計 (Architecture): Hybrid**
    *   React 負責 UI 層，Phaser 負責 Game Loop 層，兩者透過 Event System 進行通訊。